/* @hrimthurs/tackle 1.18.1 https://github.com/hrimthurs/Tackle @license MIT */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).TkMath={})}(this,(function(n){"use strict";var t=Math.PI/2,e=Math.PI/4,r=Math.PI/180;function o(n,t){return n.x*t.x+n.y*t.y}function i(n,t){return n.x*t.y-n.y*t.x}function a(n,t){return{x:n.x-t.x,y:n.y-t.y}}function u(n,t){var e=a(t,n);return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function s(n,t){var e=a(t,n);return Math.abs(e.x)+Math.abs(e.y)}function y(n,t,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2,o=!1,i=a(t,n),u=Math.pow(i.x,2)+Math.pow(i.y,2);if(0!==u){var s=((e.x-n.x)*i.x+(e.y-n.y)*i.y)/u;if(s<0)o=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))<=r;else if(s>1)o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))<=r;else{var y=((n.y-e.y)*i.x-(n.x-e.x)*i.y)/u;o=Math.abs(y)*Math.sqrt(u)<=r}}return o}function f(n,t){for(var e=!1,r=0,o=t.length-1;r<t.length;o=r++){var i=t[r],a=t[o];i.y>n.y!=a.y>n.y&&n.x<(a.x-i.x)*(n.y-i.y)/(a.y-i.y)+i.x&&(e=!e)}return e}function x(n,t,e,r){var o=null;if(n&&t&&e&&r){var u=a(n,t),s=a(r,e),y=i(u,s);if(0!==y){var f=a(r,t);o={Ua:i(f,s)/y,Ub:i(u,f)/y}}}return o}function c(n){return n&&n.Ua>=0&&n.Ua<=1&&n.Ub>=0&&n.Ub<=1}function h(n,t,e){return{x:t.x*n.Ua+e.x*(1-n.Ua),y:t.y*n.Ua+e.y*(1-n.Ua)}}var v={HALF_PI:t,QUART_PI:e,angleDegToRad:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Number(n)*r},roundFloat:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return Number(n.toFixed(t))},dotProduct2D:o,crossProduct2D:i,delta2D:a,midPoint2D:function(n,t){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}},isEqualCoords2D:function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=a(t,n);return Math.abs(r.x)<e&&Math.abs(r.y)<e},dist2D:u,distManhattan2D:s,isNearerFirstPt2D:function(n,t,e){return s(e,n)<s(e,t)},pointOnLineByLen2D:function(n,t,e){var r=a(t,n),o=e/(u(n,t)||1);return{x:n.x+r.x*o,y:n.y+r.y*o}},projectPointToStraightLine2D:function(n,t,e){var r=a(t,n),i=o(a(e,n),r)/o(r,r);return{x:n.x+r.x*i,y:n.y+r.y*i}},isPointBelongStraightLine2D:function(n,t,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2,o=a(t,n),u=a(e,n),s=i(o,u),y=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2));return Math.abs(s/y)<=r/2},isPointBelongLineSegment2D:y,isSomePointBelongLineSegment2D:function(n,t,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;return e.some((function(e){return y(n,t,e,r)}))},isEveryPointBelongLineSegment2D:function(n,t,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;return e.every((function(e){return y(n,t,e,r)}))},isPointInsidePolygon2D:f,isSomePointInsidePolygon2D:function(n,t){return n.some((function(n){return f(n,t)}))},isEveryPointInsidePolygon2D:function(n,t){return n.every((function(n){return f(n,t)}))},crossStraightLines2D:function(n,t,e,r){var o=x(n,t,e,r);if(o)return h(o,n,t)},crossLinesSegments2D:function(n,t,e,r){var o=x(n,t,e,r);if(c(o))return h(o,n,t)},isCrossLinesSegments2D:function(n,t,e,r){return!0===c(x(n,t,e,r))}};n.default=v,Object.defineProperty(n,"__esModule",{value:!0})}));
