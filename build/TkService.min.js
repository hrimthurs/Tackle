/* @hrimthurs/tackle 1.6.2 https://github.com/hrimthurs/Tackle @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TkService={})}(this,(function(e){"use strict";function t(e,t=2){return r(e/1024,t)}function n(e,t=2){return r(e/1048576,t)}function r(e,t,n=!1){let r=a(e,{number:e=>Number(e.toFixed(t))});return n?r:JSON.parse(r)}function o(e=null,t={}){const n={keysLowerCase:!1,valsLowerCase:!1,...t};let r={},o=e instanceof URL?e:c(e);if(o)for(const e of o.searchParams.keys()){let t=o.searchParams.get(e).replace(/^["'](.*)["']$/,"$1"),s=i(n.valsLowerCase?t.toLowerCase():t),a=s.reduce(((e,t)=>{if("string"==typeof t){let n=t.split(":"),[r,...o]=n,s=o.length>1?o.join(":"):o[0];void 0!==s&&(e[r]=f(s))}return e}),{}),c=Object.keys(a).length!=s.length?s.length>1?s:s[0]:a;r[n.keysLowerCase?e.toLowerCase():e]=c}return r}function s(e,t={},n=!1){let r="string"==typeof e?c(e):e;if(r)for(const e in t){let o=t[e];if("object"==typeof o){let e=Array.isArray(o)?o.map((e=>a(e,{string:e=>e}))):Object.entries(o).map((e=>`${e[0]}:${a(e[1],{string:e=>e})}`));o=e.join(",")}r.searchParams.set(e,n?encodeURIComponent(o):o)}return r}function i(e){let t=[],n=[],r=0,o=0,s=e.split(",");for(const e of s)if(r>0||"{"==e[0]){n.push(e);let s=e.split("");r=s.reduce(((e,t)=>"{"==t?++e:"}"==t?--e:e),r),o=s.reduce(((e,t)=>['"',"'"].includes(t)?++e:e),o),0==r&&"}"==e[e.length-1]&&(t.push(n.join(",")),n=[])}else t.push(e);return 0==r&&o%2==0?t.concat(n).map((e=>""===e||f(e))):[e]}function a(e,t={},n=!0){let r=t[typeof e];return r?r(e):n?JSON.stringify(e,((e,n)=>a(n,t,!1))):e}function c(e){try{return new URL(decodeURIComponent(e||self.location.href))}catch{}}function f(e){try{return JSON.parse(e.replace(/^["'](.*)["']$/,"$1"))}catch{return e}}var u={bytesToKb:t,bytesToMb:n,trimFloat:r,getParamsURL:o,setParamsURL:s};e.bytesToKb=t,e.bytesToMb=n,e.default=u,e.getParamsURL=o,e.setParamsURL=s,e.trimFloat=r,Object.defineProperty(e,"__esModule",{value:!0})}));
