/* @hrimthurs/tackle 1.30.0 https://github.com/hrimthurs/Tackle @license MIT */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).TkService={})}(this,(function(t){"use strict";function e(t,e=2){return r(t/1024,e)}function n(t,e=2){return r(t/1048576,e)}function r(t,e,n=!1){let r=c(t,{number:t=>Number(t.toFixed(e))});return n?r:JSON.parse(r)}function o(t=1,e=null){const n=2147483647,r=1e5,o=e?.min?e.min-1:0,a=(e?.max??r)-o+1;let i=t%n;return function(t=null){if(i=48271*i%n,t){const e=t.min?t.min-1:0,n=(t.max??r)-e+1;return Math.trunc(i%n+e)}{const t=i%a+o;return e?Math.trunc(t):t/r}}}function a(t=null,e={}){const n={keysLowerCase:!1,valsLowerCase:!1,...e};let r={},o=t instanceof URL?t:l(t);if(o)for(const t of o.searchParams.keys()){let e=o.searchParams.get(t).replace(/^["'](.*)["']$/,"$1"),a=f(n.valsLowerCase?e.toLowerCase():e),i=a.reduce(((t,e)=>{if("string"==typeof e){let n=e.split(":"),[r,...o]=n,a=o.length>1?o.join(":"):o[0];void 0!==a&&(t[r]=m(a))}return t}),{}),s=Object.keys(i).length!=a.length?a.length>1?a:a[0]:i;r[n.keysLowerCase?t.toLowerCase():t]=s}return r}function i(t,e={},n=!1){let r="string"==typeof t?l(t):t;if(r)for(const t in e){let o=e[t];if(void 0!==o){if("object"==typeof o&&null!==o){let t=Array.isArray(o)?o.map((t=>c(t,{string:t=>t}))):Object.entries(o).map((t=>`${t[0]}:${c(t[1],{string:t=>t})}`));o=t.length>0?t.join(","):c(o)}r.searchParams.set(t,n?encodeURIComponent(o):o)}}return r}var s={bytesToKb:e,bytesToMb:n,trimFloat:r,randomLCG:o,getParamsURL:a,setParamsURL:i,generateHashUID:function(t=""){const e=10+Math.trunc(10*Math.random()),n=new Array(e).fill(0).map((()=>Math.random())).join();return function(t,e=0){const n={f1:3735928559,f2:2654435761,f3:2246822507},r={f1:1103547991,f2:1597334677,f3:3266489909};let o=n.f1^e,a=r.f1^e;for(let e=0;e<t.length;e++){let i=t.charCodeAt(e);o=Math.imul(o^i,n.f2),a=Math.imul(a^i,r.f2)}o=Math.imul(o^o>>>16,n.f3)^Math.imul(a^a>>>13,r.f3),a=Math.imul(a^a>>>16,n.f3)^Math.imul(o^o>>>13,r.f3);let i=(a>>>0).toString(16)+(o>>>0).toString(16);return"0".repeat(16-i.length)+i}(t+Date.now()+n,Math.random())},generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(u[255&t]+u[t>>8&255]+u[t>>16&255]+u[t>>24&255]+"-"+u[255&e]+u[e>>8&255]+"-"+u[e>>16&15|64]+u[e>>24&255]+"-"+u[63&n|128]+u[n>>8&255]+"-"+u[n>>16&255]+u[n>>24&255]+u[255&r]+u[r>>8&255]+u[r>>16&255]+u[r>>24&255]).toLowerCase()},promiseTimeout:function(t,e={}){return new Promise((async(n,r)=>{const o=setTimeout((()=>{e.timeoutReject?r(new Error("timeout")):n()}),t);if(e?.cbCreate(n,o),e.func)try{n(await e.func(...e.args??[]))}catch(t){r(t)}finally{clearTimeout(o)}}))}};const u=new Array(256).fill(0).map(((t,e)=>(e<16?"0":"")+e.toString(16)));function f(t){let e=[],n=[],r=0,o=0,a=t.split(",");for(const t of a)if(r>0||"{"==t[0]){n.push(t);let a=t.split("");r=a.reduce(((t,e)=>"{"==e?++t:"}"==e?--t:t),r),o=a.reduce(((t,e)=>['"',"'"].includes(e)?++t:t),o),0==r&&"}"==t[t.length-1]&&(e.push(n.join(",")),n=[])}else e.push(t);return 0==r&&o%2==0?e.concat(n).map((t=>""===t||m(t))):[t]}function c(t,e={},n=!0){let r=e[typeof t];return r?r(t):n?JSON.stringify(t,((t,n)=>c(n,e,!1))):t}function l(t){try{return new URL(decodeURIComponent(t||self.location.href))}catch{}}function m(t){try{return JSON.parse(t.replace(/^["'](.*)["']$/,"$1"))}catch{return t}}t.bytesToKb=e,t.bytesToMb=n,t.default=s,t.getParamsURL=a,t.randomLCG=o,t.setParamsURL=i,t.trimFloat=r,Object.defineProperty(t,"__esModule",{value:!0})}));
