/* @hrimthurs/tackle 1.12.2 https://github.com/hrimthurs/Tackle @license MIT */
!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((r="undefined"!=typeof globalThis?globalThis:r||self).TkObject={})}(this,(function(r){"use strict";function e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function t(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e(Object(n),!0).forEach((function(e){o(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function n(r){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n(r)}function o(r,e,t){return(e=function(r){var e=function(r,e){if("object"!=typeof r||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"==typeof e?e:String(e)}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function i(r){return function(r){if(Array.isArray(r))return u(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"==typeof r)return u(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function a(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Array.isArray(r)?i(r):null!=r?[r]:[];return e?f(t):t}function f(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=i(new Set(r));return e&&(r=t),t}function l(r){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t={h1:{f1:3735928559,f2:2654435761,f3:2246822507},h2:{f1:1103547991,f2:1597334677,f3:3266489909}},n=t.h1.f1^e,o=t.h2.f1^e,i=0;i<r.length;i++){var u=r.charCodeAt(i);n=Math.imul(n^u,t.h1.f2),o=Math.imul(o^u,t.h2.f2)}n=Math.imul(n^n>>>16,t.h1.f3)^Math.imul(o^o>>>13,t.h2.f3);var a=((o=Math.imul(o^o>>>16,t.h1.f3)^Math.imul(n^n>>>13,t.h2.f3))>>>0).toString(16)+(n>>>0).toString(16);return"0".repeat(16-a.length)+a}function c(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"object"===n(r)&&null!==r&&!Array.isArray(r)&&(!e||e in r)}function s(r,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t?r:d(r);return a(e).forEach((function(r){return v(n,r,null,{cbAction:function(r,e){return delete r[e]}})})),n}function y(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var o=t.map((function(r){return r.split(".")})),i=o.map((function(e){return e.reduce((function(r,e){return c(r,e)?r[e]:void 0}),r)}));return 1==o.length?i[0]:i}function v(r,e,t){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=!1,a=null===(n=i.onlyExist)||void 0===n||n,f=null!==(o=i.cbAction)&&void 0!==o?o:function(){},l=e.split(".");if(l.length>1)if(a){var s,v=l.pop(),b=y(r,l.join("."));if(c(b,v))b[v]=t,u=null===(s=f(b,v))||void 0===s||s}else{var p=r;l.forEach((function(r,e){r in p||(e<l.length-1?(p[r]={},p=p[r]):p[r]=t)}))}else if(!a||e in r){var h;r[e]=t,u=null===(h=f(r,e))||void 0===h||h}return u}function b(r,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];p(e,(function(e,o,i){var u=Array.isArray(e);if(u||null===e||"object"!==n(e)){var a=""!==i?i+"."+o:o,f=y(r,a);(!t||n(f)===n(e)&&Array.isArray(f)===u)&&v(r,a,e)}}),!0)}function p(r,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return A(r,e,t,n)}function h(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e.reduce((function(r,e){return r=c(e)&&c(r)&&Object.keys(r).length>0?Object.keys(e).reduce((function(t,n){return null!=e[n]?(t[n]=h(r[n],e[n]),t):t}),t({},r)):null==e?r:e}),{})}function d(r){return JSON.parse(JSON.stringify(r))}function g(r){var e=Object.keys(r);if(e.length>0&&e.every((function(r){return!Number.isNaN(Number(r))}))){var t=[];return e.forEach((function(e){return t[e]=r[e]})),t}return r}function m(r){var e=["ArrayBuffer","MessagePort","ReadableStream","WritableStream","TransformStream","ImageBitmap","AudioData","VideoFrame","OffscreenCanvas","RTCDataChannel"],t=[];return p(r,(function(r){e.some((function(e){return r.constructor.name===e}))&&t.push(r)}),!0,!0),t}function O(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l(JSON.stringify(s(r,e)),t)}var j={isObjectJs:c,excludeKeys:s,getValue:y,setValue:v,setProperties:b,traverse:p,merge:h,clone:d,tryConvertToArray:g,getArrayTransferable:m,getHash:O};function A(r,e,t,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i="__TackleEnumAlreadyProcessed__",u=Object.keys(r);return Object.fromEntries(u.map((function(u){var a,f=r[u],l=null!==(a=e(f,u,o.join(".")))&&void 0!==a?a:f;if(n&&Array.isArray(f)||t&&c(f)){if(!f[i]){Object.defineProperty(f,i,{value:!0,writable:!1,configurable:!0});var s=A(f,e,t,n,o.concat(u));l=Array.isArray(f)?g(s):s}delete f[i]}return[u,l]})))}r.clone=d,r.default=j,r.excludeKeys=s,r.getArrayTransferable=m,r.getHash=O,r.getValue=y,r.isObjectJs=c,r.merge=h,r.setProperties=b,r.traverse=p,r.tryConvertToArray=g,Object.defineProperty(r,"__esModule",{value:!0})}));
