/* @hrimthurs/tackle 1.10.1 https://github.com/hrimthurs/Tackle @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Tackle={})}(this,(function(e){"use strict";function t(e,t=!1){let r=Array.isArray(e)?[...e]:null!=e?[e]:[];return t?n(r):r}function n(e,t=!1){let n=[...new Set(e)];return t&&(e=n),n}var r={getArray:t,getUniqValues:n,excludeValues:function(e,n,r=!1){let o=t(n),a=e.filter((e=>!o.includes(e)));return r&&(e=a),a},sortArrayStr:function(e,t=!1){let n=e.sort(((e,t)=>e.localeCompare(t)));return t&&(e=n),n},isSubArray:function(e,t,n=!1){return(n?e.length==t.length:e.length<=t.length)&&e.every((e=>t.includes(e)))}};function o(e,t=0){const n={f1:3735928559,f2:2654435761,f3:2246822507},r={f1:1103547991,f2:1597334677,f3:3266489909};let o=n.f1^t,a=r.f1^t;for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);o=Math.imul(o^i,n.f2),a=Math.imul(a^i,r.f2)}o=Math.imul(o^o>>>16,n.f3)^Math.imul(a^a>>>13,r.f3),a=Math.imul(a^a>>>16,n.f3)^Math.imul(o^o>>>13,r.f3);let i=(a>>>0).toString(16)+(o>>>0).toString(16);return"0".repeat(16-i.length)+i}var a={formatNumber:function(e,t,n=0){const r=Math.abs(e),o=e<0?"-":"",a=n?r.toFixed(n):r.toString();let i=t-a.length-o.length;return o+(i<=0?a:Number.isInteger(e)&&!n?"0".repeat(i)+a:a+"0".repeat(i))},getHash:o};function i(e,t=null){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&(!t||t in e)}function s(e,n,r=!1){let o=r?e:h(e);return t(n).forEach((e=>c(o,e,null,((e,t)=>delete e[t])))),o}function l(e,...t){let n=t.map((e=>e.split("."))),r=n.map((t=>t.reduce(((e,t)=>i(e,t)?e[t]:void 0),e)));return 1==n.length?r[0]:r}function c(e,t,n,r=null){let o=!1,a=t.split(".");if(a.length>1){let t=a.pop(),s=l(e,a.join("."));i(s,t)&&(s[t]=n,o="function"!=typeof r||r(s,t))}else t in e&&(e[t]=n,o="function"!=typeof r||r(e,t));return o}function u(e){const t=Object.keys(e);if(t.length>0&&t.every((e=>!Number.isNaN(Number(e))))){let n=[];return t.forEach((t=>n[t]=e[t])),n}return e}function f(e,t,n=!1){const r="__TackleEnumAlreadyProcessed__",o=Object.keys(e);return Object.fromEntries(o.map((a=>{let i=e[a],s=t(i,a,o)??i;return n&&"object"==typeof i&&null!==i&&(i[r]||(Object.defineProperty(i,r,{value:!0,writable:!1,configurable:!0}),s=u(f(i,t,n))),delete i[r]),[a,s]})))}function h(e){return JSON.parse(JSON.stringify(e))}var d={isObjectJs:i,excludeKeys:s,getValue:l,setValue:c,tryConvertToArray:u,enumeration:f,merge:function e(...t){return t.reduce(((t,n)=>t=i(n)&&i(t)&&Object.keys(t).length>0?Object.keys(n).reduce(((r,o)=>null!=n[o]?(r[o]=e(t[o],n[o]),r):r),{...t}):null==n?t:n),{})},clone:h,getArrayTransferable:function(e){const t=["ArrayBuffer","MessagePort","ReadableStream","WritableStream","TransformStream","ImageBitmap","AudioData","VideoFrame","OffscreenCanvas","RTCDataChannel"];let n=[];return f(e,(e=>{t.some((t=>e.constructor.name===t))&&n.push(e)}),!0),n},getHash:function(e,t=null,n=0){return o(JSON.stringify(s(e,t)),n)}};var m={decoMemoize:function(e,t=globalThis){let n=new Map;return function(){let r,o=[].join.call(arguments);return n.has(o)?r=n.get(o):(r=e.apply(t,arguments),n.set(o,r)),r}}};function p(e,t,n=!1){let r=b(e,{number:e=>Number(e.toFixed(t))});return n?r:JSON.parse(r)}const y=new Array(256).fill(0).map(((e,t)=>(t<16?"0":"")+t.toString(16)));function g(e){let t=[],n=[],r=0,o=0,a=e.split(",");for(const e of a)if(r>0||"{"==e[0]){n.push(e);let a=e.split("");r=a.reduce(((e,t)=>"{"==t?++e:"}"==t?--e:e),r),o=a.reduce(((e,t)=>['"',"'"].includes(t)?++e:e),o),0==r&&"}"==e[e.length-1]&&(t.push(n.join(",")),n=[])}else t.push(e);return 0==r&&o%2==0?t.concat(n).map((e=>""===e||j(e))):[e]}function b(e,t={},n=!0){let r=t[typeof e];return r?r(e):n?JSON.stringify(e,((e,n)=>b(n,t,!1))):e}function w(e){try{return new URL(decodeURIComponent(e||self.location.href))}catch{}}function j(e){try{return JSON.parse(e.replace(/^["'](.*)["']$/,"$1"))}catch{return e}}var T={bytesToKb:function(e,t=2){return p(e/1024,t)},bytesToMb:function(e,t=2){return p(e/1048576,t)},trimFloat:p,getParamsURL:function(e=null,t={}){const n={keysLowerCase:!1,valsLowerCase:!1,...t};let r={},o=e instanceof URL?e:w(e);if(o)for(const e of o.searchParams.keys()){let t=o.searchParams.get(e).replace(/^["'](.*)["']$/,"$1"),a=g(n.valsLowerCase?t.toLowerCase():t),i=a.reduce(((e,t)=>{if("string"==typeof t){let n=t.split(":"),[r,...o]=n,a=o.length>1?o.join(":"):o[0];void 0!==a&&(e[r]=j(a))}return e}),{}),s=Object.keys(i).length!=a.length?a.length>1?a:a[0]:i;r[n.keysLowerCase?e.toLowerCase():e]=s}return r},setParamsURL:function(e,t={},n=!1){let r="string"==typeof e?w(e):e;if(r)for(const e in t){let o=t[e];if("object"==typeof o){let e=Array.isArray(o)?o.map((e=>b(e,{string:e=>e}))):Object.entries(o).map((e=>`${e[0]}:${b(e[1],{string:e=>e})}`));o=e.join(",")}r.searchParams.set(e,n?encodeURIComponent(o):o)}return r},generateHashUID:function(e=""){const t=10+Math.trunc(10*Math.random()),n=new Array(t).fill(0).map((()=>Math.random())).join();return o(e+Date.now()+n,Math.random())},generateUUID:function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(y[255&e]+y[e>>8&255]+y[e>>16&255]+y[e>>24&255]+"-"+y[255&t]+y[t>>8&255]+"-"+y[t>>16&15|64]+y[t>>24&255]+"-"+y[63&n|128]+y[n>>8&255]+"-"+y[n>>16&255]+y[n>>24&255]+y[255&r]+y[r>>8&255]+y[r>>16&255]+y[r>>24&255]).toLowerCase()},promiseTimeout:function(e,{func:t=null,args:n=[],cbCreate:r=((e,t)=>{}),timeoutReject:o=!1}){return new Promise((async(a,i)=>{const s=setTimeout((()=>{o?i(new Error("timeout")):a()}),e);if(r(a,s),t)try{a(await t(...n))}catch(e){i(e)}finally{clearTimeout(s)}}))}};function k(e,t,n={}){const r=document.createElement(e);let o=n.insertFirst??!1,a=n.subElements??[];return Object.entries(n).forEach((e=>{const[t,n]=e,o=Array.isArray(n),a="string"==typeof n,i="object"==typeof n;switch(t){case"attributes":i&&Object.entries(n).forEach((e=>{r.setAttribute(e[0],e[1])}));break;case"style":const e=r.style.cssText??"";i?Object.entries(n).forEach((t=>{r.style.cssText=e+`;${t[0]}:${t[1]}`})):a&&(r.style.cssText=e+`;${n}`);break;case"class":o?n.forEach((e=>{r.classList.add(e)})):a&&r.classList.add(n);break;case"properties":i&&Object.entries(n).forEach((e=>{e[0]in r&&(r[e[0]]=e[1])}))}})),o?t.insertBefore(r,t.firstChild):t.appendChild(r),a.forEach((e=>{const t=e.tagName;delete e.tagName,k(t,r,e)})),r}var v={createHTMLElement:k,setDivResizer:function(e,t){const n=k("iframe",e,{style:"position:absolute; left:0px; top:0px; width:100%; height:100%; z-index:-10000",attributes:{frameborder:"no"}}),r=n.contentWindow;let o={width:null,height:null};r.addEventListener("resize",(()=>{let{width:e,height:r}=getComputedStyle(n);const a={width:parseInt(e,10)+1,height:parseInt(r,10)+1};o.width===a.width&&o.height===a.height||(t(a),o=a)})),r.dispatchEvent(new Event("resize"))},interceptErrors:function(e,t=!0){window.addEventListener("error",(n=>{t&&n.preventDefault(),e(n.message)})),window.addEventListener("unhandledrejection",(n=>{t&&n.preventDefault(),e(n.reason??"Unknown reason rejection")}))}},O={TkArray:r,TkString:a,TkObject:d,TkFunction:m,TkService:T,TkBrowser:v};e.TkArray=r,e.TkBrowser=v,e.TkFunction=m,e.TkObject=d,e.TkService=T,e.TkString=a,e.default=O,Object.defineProperty(e,"__esModule",{value:!0})}));
